<mat-card class="sub-card">
  <mat-card-header>
    <div class="profile-header">
      <h2 class="sub-card-title">My Assigned Tasks</h2>
    </div>
  </mat-card-header>
  <mat-card-content>
    <mat-accordion>
      <mat-expansion-panel *ngFor="let task of pagedAssignedTasks">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>list</mat-icon>{{ task.name }}
          </mat-panel-title>
        </mat-expansion-panel-header>

        <!-- Collapsible content -->
        <table class="table table-bordered task-details-table">
          <tbody>
            <tr>
              <td><strong>Task ID:</strong></td>
              <td>{{ task.id }}</td>
            </tr>
            <tr>
              <td><strong>Assignee:</strong></td>
              <td>{{ task.assignee.firstName }} {{ task.assignee.lastName }}</td>
            </tr>
            <tr>
              <td><strong>Created:</strong></td>
              <td>{{ task.created | date: 'short' }}</td>
            </tr>
            <tr>
              <td><strong>Process Instance ID:</strong></td>
              <td>{{ task.processInstanceId }}</td>
            </tr>
          </tbody>
        </table>
        <div class="actions">
          <button mat-raised-button class="full-width-button" style="background-color: #4caf50; color: white;" (click)="openTask(task.id)">
            <mat-icon>open_in_new</mat-icon> Open Task
          </button>
        </div>
      </mat-expansion-panel>
    </mat-accordion>

    <mat-paginator
      [length]="assignedTasks.length"
      [pageSize]="5"
      [pageSizeOptions]="[5, 10, 15]"
      (page)="paginateAssignedTasks($event)">
    </mat-paginator>

    <mat-card-footer>
      <p>Total Assigned Tasks: {{ assignedTasks.length }}</p>
    </mat-card-footer>
  </mat-card-content>
</mat-card>

    
<mat-card class="sub-card">
  <mat-card-header>
    <div class="profile-header">
      <h2 class="sub-card-title">My Completed Tasks</h2>
    </div>
  </mat-card-header>
  <mat-card-content>
    <mat-accordion>
      <mat-expansion-panel *ngFor="let task of pagedCompletedTasks">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>done</mat-icon>{{ task.name }}
          </mat-panel-title>
        </mat-expansion-panel-header>

        <!-- Collapsible content -->
        <table class="table table-bordered task-details-table">
          <tbody>
            <tr>
              <td><strong>Task ID:</strong></td>
              <td>{{ task.id }}</td>
            </tr>
            <tr>
              <td><strong>Assignee:</strong></td>
              <td>{{ task.assignee.firstName }} {{ task.assignee.lastName }}</td>
            </tr>
            <tr>
              <td><strong>Created:</strong></td>
              <td>{{ task.created | date: 'short' }}</td>
            </tr>
            <tr>
              <td><strong>Completed:</strong></td>
              <td>{{ task.endDate | date: 'short' }}</td>
            </tr>
            <tr>
              <td><strong>Process Instance ID:</strong></td>
              <td>{{ task.processInstanceId }}</td>
            </tr>
          </tbody>
        </table>
      </mat-expansion-panel>
    </mat-accordion>

    <mat-paginator
      [length]="completedTasks.length"
      [pageSize]="5"
      [pageSizeOptions]="[5, 10, 15]"
      (page)="paginateCompletedTasks($event)">
    </mat-paginator>

    <mat-card-footer>
      <p>Total Completed Tasks: {{ completedTasks.length }}</p>
    </mat-card-footer>
  </mat-card-content>
</mat-card>
